version: "3.3"
services:
  app_root_ds:
    hostname: root_block
    volumes:
      - .:/app
      - ./stores/basic:/app/data
      - ./debug:/app/debug
      - /var/run/docker.sock:/var/run/docker.sock
    build:
      context: .
      dockerfile: Dockerfile
      args:
        - INSTALL_DEV=true
    environment:
      - LOADER=pandas
      - MOUNT_FOLDER=/app/data
      - BLOCK_NAME=CSV Block #  BlockSimple
      - BLOCK_LOADER=BlockLoaderFile # BlockLoaderFile
      - BLOCK_STORAGE=BlockStorageMemory # BlockStorageMemory
    ports:
      - "9080:80"
    command: [ "/app/start_dev.sh" ]
    networks:
      - ml-blocks-net

volumes:
  store-data-volume: null

networks:
  ml-blocks-net:
